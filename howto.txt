/usr/bin/ssh -f -X -Y -N -C -L 8080:172.16.184.35:8080 -g root:spcspc@172.16.184.35

curl -H "Content-Type: application/json" -X POST -d '@res/enrol_request.json' http://localhost:8080/enrol

curl -H "Content-Type: application/json" -X POST -d '@res/enrol_request.json' http://172.16.184.35:8080/enrol


    Une requête vers http(s)://server-address/enrol pour l'enrôlement. Il faut parser la réponse et récupérer le champ nommé "CVID_UUID" qui correspond à l'identifiant de l'utilisateur.
    Une requête vers http(s)://server-address/auth pour l'authentification. Il retourne un JSON qui contient le résultat de l'authentification. Il faudra vérifier que le "remote_status" soit égal à "OK" et non "KO".
    Dans le script, il y a une méthode qui permet de passer des données brutes (string en format hexadécimale) aux données exploitées dans les requêtes, cette méthode s'appelle: parseHexStringToByteArray et prend en entrée un string de la forme : "9ffcd70b25e147d086a9fb2ea33a8fc8"


1/ VMServer CentOS7 nodejs, 8vCPU, 16GB RAM 
IP: 172.16.184.35 
U/P: root/spcspc 
Logiciels installés:
[root@ubvm1 ~]# node -v 
v6.11.4 
[root@ubvm1 ~]# npm -v 
3.10.10 

2/ VMServer  CentOS7 DB2, 32vCPU, 128GB RAM, 400GB disk data sur 4 axes 
IP: 172.16.184.36 
U/P: root/spcspc 
Logiciels installés: 
[db2inst1@ubvm2 ~]$ db2level 
DB21085I  This instance or install (instance name, where applicable:
"db2inst1") uses "64" bits and DB2 code release "SQL11010" with level identifier "0201010F". 
Informational tokens are "DB2 v11.1.0.0", "s1606081100", "DYN1606081100AMD64", and Fix Pack "0". 
Product is installed at "/opt/ibm/db2/V11.1". 

- DB2 
Je vous ai mis en place une instance DB2 avec une base de données: 
U/P: db2inst1/spcspc 
PORT: 50000 
DBNAME: UNITEDBI 
Vous avez aussi le Data Server Manager accessible via l'URL http://localhost:11080 (une fois que le tunnel ssh sera mis en place sur votre machine en suivant les instructions de la page http://ibm.biz/bpshparis_vpn). 
Il s'agit de la console graphique d'administration que vous trouvez depuis le service Bluemix dashDB 
L'accès au DSM via le U/P: admin/spcspc 

- nodejs 
Sur ce srv vous trouverez un fichier /root/FabTest/test_connect.js qui teste la connexion à la base de données DB2, vous trouverez entre autre les informations pour la connexion. Dans /root/connect-db2 vous avez un template pour la gestion des sessions, cela devrait plus vous parler car mes notions nodejs sont limités. 
